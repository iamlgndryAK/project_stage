<Grid>

    do_default_tab: False
    
    TabbedPanelItem:
        text: 'Tab 1'

        GridLayout:

            id: main_grid
            cols: 1
            size: root.width, root.height
    

            GridLayout:
                id: top_grid
                cols: 1
                size_hint: (1, 0.3)
                Label:
                    id: name_label
                    text: "Vehicle Control and Monitoring Panel"
                    font_size: 50
                    color: 0.9608, 0.8706, 0.702, 1


            GridLayout:
                id: top_grid
                cols: 3
                size_hint: (2, 0.6)

                Label:
                    id: name_label
                    text: ""

                

                Image:
                    id: image_widget
                    source: ''
                    size_hint: 1, 0.9
                Button:
                    id: streaming_button
                    text: 'Streaming OFF'
                    on_release: root.toggle_streaming()

                

                    


            GridLayout:
                id: control_grid
                cols: 5

                GridLayout:
                    id: asasdas
                    cols: 1

                    ProgressBar:
                        id: loading_bar
                        max: 100
                        value: 0
                        size_hint_y: None

                    Label:
                        id: percentage_label
                        text: "P"
                        font_size: 50
                        color: 0.9608, 0.8706, 0.702, 1

                    ProgressBar:
                        id: loading_bar
                        max: 100
                        value: 0
                        size_hint_y: None

                    ProgressBar:
                        id: loading_bar
                        max: 100
                        value: 0
                        size_hint_y: None
                        
                    

                        
                        

                GridLayout:
                    id: control_grid
                    cols: 1
                    size_hint: (0.25, 1)

                    Label:
                        id: name_label
                        text: ""

                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        background_color: (0, 1, 0, 1)

                    Label:
                        id: name_label
                        text: ""

                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        background_color: (1, 0, 0, 1)
                    Label:
                        id: name_label
                        text: ""

                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        background_color: (0, 0, 1, 1)
                    Label:
                        id: name_label
                        text: ""

                        canvas.before:
                            Color:
                                rgba: self.background_color
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        background_color: (1, 1, 0, 1)

                GridLayout:
                    id: control_grid
                    cols: 1

                    Label:
                        id: name_label
                        text: "IR Sensor"
                    Label:
                        id: name_label
                        text: "proximit sensor"
                    Label:
                        id: name_label
                        text: "accelerometer"
                    Label:
                        id: name_label
                        text: "smoke sensor"



                GridLayout:
                    id: control_grid
                    cols: 3
                    Label:
                        id: name_label
                        text: ""
                    Button:
                        id: button
                        text: "forward"
                        on_press: root.forward_press(self)
                        on_release: root.forward_release(self)
                    Label:
                        id: name_label
                        text: ""
                    Button:
                        id: button
                        text: "Left"
                        on_press: root.left_press(self)
                        on_release: root.left_release(self)
                        

                        border: 2, 2, 2, 2
                        border_color: 1, 0, 0, 1
                        border_width: 2
                        border_radius: [15]
                        size_hint: (0.3, 0.1)
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                    Label:
                        id: name_label
                        text: ""
                    Button:
                        id: button
                        text: "right"
                        on_press: root.right_press(self)
                        on_release: root.right_release(self)
                    Label:
                        id: name_label
                        text: ""
                    Button:
                        id: button
                        text: "backward"
                        on_press: root.backward_press(self)
                        on_release: root.backward_release(self)

                BoxLayout:
                    orientation: 'vertical'
                    padding: 20

                    GridLayout:
                        id: control_grid
                        cols: 3

                

                        Label:
                            id: name_label
                            text: ""
                        Button:
                            id: rot_up_button
                            text: "U"
                            on_release: root.on_rot_up_button_press()                            
                        Label:
                            id: name_label
                            text: ""
                        Button:
                            id: rot_left_button
                            text: "L"
                            on_release: root.on_rot_left_button_press()            
                        Label:
                            id: name_label
                            text: ""
                        Button:
                            id: rot_right_button
                            text: "R"
                            on_release: root.on_rot_right_button_press()
                        Label:
                            id: name_label
                            text: ""
                        Button:
                            id: rot_down_button
                            text: "D"
                            on_release: root.on_rot_down_button_press()

                    BoxLayout:
                        orientation: 'vertical'
                        padding: 10

                        Button:
                            id: fire_button
                            text: "Fire"
                            background_normal: ''

                            background_color: 0, 0, 1, 1



                    Label:
                        id: touch_label
                        text: "Turret Control"

    TabbedPanelItem:
        text: 'Settings'

        GridLayout:
            id: setting_grid
            cols: 1
            GridLayout:
                cols: 2
                Label:
                    id: motor_speed_label
                    text: "Motor Speed: 200"
                Slider:
                    id: motor_speed
                    min: 0
                    max: 255
                    value: 200
                    on_value: root.update_slider_label(*args)

            GridLayout:
                cols: 1
                Button:
                    id: mosquitto_button
                    text: 'Restart Mosquitto'
                    on_release: root.restart_client()
        

    TabbedPanelItem:
        text: 'Tab 3'

        BoxLayout:
            orientation: 'vertical'
            
            Image:
                id: image_widget_2
                source: ''
                size_hint: 1, 0.9


